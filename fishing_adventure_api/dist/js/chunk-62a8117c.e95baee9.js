(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-62a8117c"],{"4f3e":function(e,t,a){"use strict";a.r(t);var n=a("7a23"),r=function(e){return Object(n["I"])("data-v-19172d84"),e=e(),Object(n["G"])(),e},o=r((function(){return Object(n["i"])("div",{class:"title"},[Object(n["i"])("h1",null,"My current reservations"),Object(n["i"])("i",{class:"fas fa-id-card fa-3x",style:{"font-family":"'Font Awesome 5 Pro'"}})],-1)})),s={style:{"background-color":"#212529",padding:"15px"}},i={class:"container w-100",style:{"flex-direction":"column"}},c={class:"row row-cols-1 row-cols-sm-1 row-cols-md-4",style:{"justify-content":"space-evenly","align-items":"center"}},l=r((function(){return Object(n["i"])("div",{class:"col-md-3"},[Object(n["i"])("input",{class:"form-control me-2",type:"search",placeholder:"Search","aria-label":"Search"})],-1)})),d={class:"col-md-4"},b=Object(n["k"])('<div class="col-md-2" data-v-19172d84><select class="form-select form-select-dark form-select-sm text-white bg-dark" aria-label=".form-select-sm example" data-v-19172d84><option selected data-v-19172d84>All reservations</option><option value="1" data-v-19172d84>Boats</option><option value="2" data-v-19172d84>Cottages</option><option value="3" data-v-19172d84>Adventures</option></select></div>',1),u={style:{"margin-top":"5%"}};function h(e,t,a,r,h,f){var v=Object(n["O"])("Datepicker"),O=Object(n["O"])("ClientReservationCard");return Object(n["F"])(),Object(n["h"])("div",null,[o,Object(n["i"])("div",s,[Object(n["i"])("div",i,[Object(n["i"])("div",c,[l,Object(n["i"])("div",d,[Object(n["m"])(v,{style:{width:"100%","margin-right":"10px",border:"1px solid white","border-radius":"5px"},dark:"",id:"picker",modelValue:e.date,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.date=t}),range:"",placeholder:"Select date",enableTimePicker:!1},null,8,["modelValue"])]),b])])]),Object(n["i"])("div",u,[(Object(n["F"])(!0),Object(n["h"])(n["a"],null,Object(n["M"])(e.nonCancellable,(function(e){return Object(n["F"])(),Object(n["f"])(O,{review:!1,current:!0,key:e.id,reservation:e,onRefresh:f.refresh},null,8,["reservation","onRefresh"])})),128)),(Object(n["F"])(!0),Object(n["h"])(n["a"],null,Object(n["M"])(e.reservations,(function(e){return Object(n["F"])(),Object(n["f"])(O,{review:!0,current:!0,key:e.id,reservation:e,onRefresh:f.refresh},null,8,["reservation","onRefresh"])})),128))])])}var f=a("b85c"),v=(a("a434"),a("504a")),O=a("bc3a"),m=a.n(O),j=a("c1df"),w=a.n(j);m.a.defaults.baseURL="/";var p={components:{ClientReservationCard:v["a"]},data:function(){return{numberOfPersons:"",date:"",nonCancellable:[],reservations:[],range:{start:new Date,end:new Date}}},mounted:function(){var e=this;m.a.get("/reservation/client/current",{headers:{"Access-Control-Allow-Origin":"/",Authorization:"Bearer "+localStorage.refreshToken}}).then((function(t){var a=new Date;a.setDate(a.getDate()+3);var n,r=Object(f["a"])(t.data);try{for(r.s();!(n=r.n()).done;){var o=n.value;w()(o.startDate).isBefore(w()(a))?e.nonCancellable.push(o):e.reservations.push(o)}}catch(s){r.e(s)}finally{r.f()}})),this.$toast.show("You can cancel your reservation up to 3 days before it is scheduled.",{duration:5e3})},methods:{refresh:function(e){var t=this.reservations.indexOf(e);t>-1&&this.reservations.splice(t,1)}}},g=(a("d17e"),a("6b0d")),y=a.n(g);const x=y()(p,[["render",h],["__scopeId","data-v-19172d84"]]);t["default"]=x},"504a":function(e,t,a){"use strict";a("b0c0");var n=a("7a23"),r=function(e){return Object(n["I"])("data-v-b3bfe80a"),e=e(),Object(n["G"])(),e},o={class:"card mb-3 bg-dark mt-3",style:{width:"65%",margin:"auto"}},s={class:"row g-0"},i={class:"col-md-4 shadow-none"},c=["src"],l={class:"col-md-8 shadow-none",name:"main-col"},d={class:"card-body shadow-none"},b={class:"card-text shadow-none",style:{display:"flex"}},u={class:"card-title shadow-none"},h={class:"card-text shadow-none",style:{display:"flex","align-items":"center"}},f={class:"shadow-none",style:{width:"100%"}},v={class:"row shadow-none"},O=r((function(){return Object(n["i"])("p",{class:"card-text text-left shadow-none col-md-4"}," Client: ",-1)})),m={class:"advertiserTitle shadow-none col-md-6",style:{"margin-left":"11px"}},j={class:"row shadow-none"},w=r((function(){return Object(n["i"])("p",{class:"card-text text-left shadow-none col-md-4"}," Start date: ",-1)})),p={class:"card-text text-left shadow-none col-md-8"},g={class:"row shadow-none"},y=r((function(){return Object(n["i"])("p",{class:"card-text text-left shadow-none col-md-4"}," End date: ",-1)})),x={class:"card-text text-left shadow-none col-md-8"},R={class:"row shadow-none"},k=r((function(){return Object(n["i"])("p",{class:"card-text text-left shadow-none col-md-4"},"Price:",-1)})),C={class:"card-text text-left shadow-none col-md-8"},A=r((function(){return Object(n["i"])("i",{class:"fas fa-dollar-sign"},null,-1)})),D={class:"row shadow-none"},M=r((function(){return Object(n["i"])("p",{class:"card-text text-left shadow-none col-md-4"}," Persons: ",-1)})),F={class:"card-text text-left shadow-none col-md-8"},S=r((function(){return Object(n["i"])("p",{class:"card-text text-left shadow-none"}," Additional services: ",-1)})),T={class:"row shadow-none",style:{"margin-left":"1%"}},Y=r((function(){return Object(n["i"])("i",{class:"shadow-none"},null,-1)})),B={class:"manageReservation shadow-none"},P=["disabled"],z={class:"manageReservation shadow-none"},$=["disabled"],I=["disabled"];function U(e,t,r,U,_,V){return Object(n["F"])(),Object(n["h"])("div",null,[Object(n["i"])("div",o,[Object(n["i"])("div",s,[Object(n["i"])("div",i,[Object(n["i"])("img",{style:{width:"100%",height:"225px","object-fit":"cover"},src:a("1771")("./"+r.reservation.imagePath),class:"img-fluid rounded-start shadow-none"},null,8,c)]),Object(n["i"])("div",l,[Object(n["i"])("div",d,[Object(n["i"])("div",b,[Object(n["i"])("h5",u,Object(n["R"])(r.reservation.serviceName),1)]),Object(n["i"])("div",h,[Object(n["i"])("div",f,[Object(n["i"])("div",v,[O,Object(n["i"])("p",m,Object(n["R"])(e.client.email),1)]),Object(n["i"])("div",j,[w,Object(n["i"])("p",p,Object(n["R"])(e.startDate),1)]),Object(n["i"])("div",g,[y,Object(n["i"])("p",x,Object(n["R"])(e.endDate),1)]),Object(n["i"])("div",R,[k,Object(n["i"])("p",C,[Object(n["l"])(Object(n["R"])(e.price)+" ",1),A])]),Object(n["i"])("div",D,[M,Object(n["i"])("p",F,Object(n["R"])(e.persons),1)]),S,Object(n["i"])("div",T,[(Object(n["F"])(!0),Object(n["h"])(n["a"],null,Object(n["M"])(r.reservation.chosenServices,(function(e){return Object(n["F"])(),Object(n["h"])("p",{key:e.id,class:"additionalServices shadow-none"},[Y,Object(n["l"])(" "+Object(n["R"])(e.name),1)])})),128))])]),Object(n["i"])("div",B,[r.current?Object(n["g"])("",!0):(Object(n["F"])(),Object(n["h"])("button",{key:0,disabled:e.hasReview,class:"btn btn-primary shadow-none mb-2",style:{"background-color":"rgb(0 102 102)","border-color":"rgb(0 102 102)"},onClick:t[0]||(t[0]=function(){return V.emitReview&&V.emitReview.apply(V,arguments)}),"data-bs-toggle":"modal","data-bs-target":"#review"}," Review ",8,P))]),Object(n["i"])("div",z,[r.current?Object(n["g"])("",!0):(Object(n["F"])(),Object(n["h"])("button",{key:0,disabled:e.hasComplaint,class:"btn btn-primary shadow-none mb-2",style:{"background-color":"rgb(94 23 30)","border-color":"rgb(94 23 30)"},onClick:t[1]||(t[1]=function(){return V.emitReview&&V.emitReview.apply(V,arguments)}),"data-bs-toggle":"modal","data-bs-target":"#complaint"}," Complaint ",8,$)),1==r.current?(Object(n["F"])(),Object(n["h"])("button",{key:1,class:"btn btn-primary shadow-none",disabled:1!=r.review,onClick:t[2]||(t[2]=function(){return V.cancelReservation&&V.cancelReservation.apply(V,arguments)}),style:{"background-color":"rgb(94 23 30)","border-color":"rgb(94 23 30)"}}," Cancel ",8,I)):Object(n["g"])("",!0)])])])])])])])}var _=a("bc3a"),V=a.n(_),E=a("c1df"),G=a.n(E);V.a.defaults.baseURL="/";var J={props:["reservation","review","current"],data:function(){return{client:{},startDate:{},endDate:{},price:0,persons:0,hasComplaint:!1,hasReview:!1}},mounted:function(){var e=this;V.a.get("/users/get",{headers:{"Access-Control-Allow-Origin":"/",Authorization:"Bearer "+localStorage.refreshToken}}).then((function(t){e.client=t.data})),V.a.get("/complaint/exists/"+this.reservation.id,{headers:{"Access-Control-Allow-Origin":"/",Authorization:"Bearer "+localStorage.refreshToken}}).then((function(t){e.hasComplaint=t.data})),V.a.get("/review/exists/"+this.reservation.id,{headers:{"Access-Control-Allow-Origin":"/",Authorization:"Bearer "+localStorage.refreshToken}}).then((function(t){e.hasReview=t.data})),this.startDate=G()(this.reservation.startDate).format("DD MMM YYYY hh:mm a"),this.endDate=G()(this.reservation.endDate).format("DD MMM YYYY hh:mm a"),this.price=this.reservation.price,this.persons=this.reservation.persons},methods:{emitReview:function(){this.$emit("emitReview",this.reservation)},cancelReservation:function(){var e=this;V.a.put("/reservation/cancel",this.reservation.id,{headers:{"Access-Control-Allow-Origin":"/",Authorization:"Bearer "+localStorage.refreshToken}}).then((function(t){t.data?(e.$emit("refresh",e.reservation),e.$toast.show("Reservation successfully cancelled!",{duration:2e3})):e.$toast.show("Unsuccessful cancellation! Try again, later!",{duration:2e3})}))}}},L=(a("60b7"),a("6b0d")),N=a.n(L);const q=N()(J,[["render",U],["__scopeId","data-v-b3bfe80a"]]);t["a"]=q},"60b7":function(e,t,a){"use strict";a("b619")},a434:function(e,t,a){"use strict";var n=a("23e7"),r=a("da84"),o=a("23cb"),s=a("5926"),i=a("07fa"),c=a("7b0b"),l=a("65f0"),d=a("8418"),b=a("1dde"),u=b("splice"),h=r.TypeError,f=Math.max,v=Math.min,O=9007199254740991,m="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!u},{splice:function(e,t){var a,n,r,b,u,j,w=c(this),p=i(w),g=o(e,p),y=arguments.length;if(0===y?a=n=0:1===y?(a=0,n=p-g):(a=y-2,n=v(f(s(t),0),p-g)),p+a-n>O)throw h(m);for(r=l(w,n),b=0;b<n;b++)u=g+b,u in w&&d(r,b,w[u]);if(r.length=n,a<n){for(b=g;b<p-n;b++)u=b+n,j=b+a,u in w?w[j]=w[u]:delete w[j];for(b=p;b>p-n+a;b--)delete w[b-1]}else if(a>n)for(b=p-n;b>g;b--)u=b+n-1,j=b+a-1,u in w?w[j]=w[u]:delete w[j];for(b=0;b<a;b++)w[b+g]=arguments[b+2];return w.length=p-n+a,r}})},b619:function(e,t,a){},bd44:function(e,t,a){},d17e:function(e,t,a){"use strict";a("bd44")}}]);
//# sourceMappingURL=chunk-62a8117c.e95baee9.js.map
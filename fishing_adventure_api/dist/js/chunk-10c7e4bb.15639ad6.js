(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-10c7e4bb"],{"0c2a":function(e,t,a){},"4f3e":function(e,t,a){"use strict";a.r(t);var n=a("7a23"),o=function(e){return Object(n["I"])("data-v-e453065c"),e=e(),Object(n["G"])(),e},r=o((function(){return Object(n["i"])("div",{class:"title"},[Object(n["i"])("h1",null,"My current reservations"),Object(n["i"])("i",{class:"fas fa-id-card fa-3x",style:{"font-family":"'Font Awesome 5 Pro'"}})],-1)})),c={style:{"background-color":"#212529",padding:"15px"}},s={class:"container w-100",style:{"flex-direction":"column"}},i={class:"row row-cols-1 row-cols-sm-1 row-cols-md-4",style:{"justify-content":"space-evenly","align-items":"center"}},l=o((function(){return Object(n["i"])("div",{class:"col-md-3"},[Object(n["i"])("input",{class:"form-control me-2",type:"search",placeholder:"Search","aria-label":"Search"})],-1)})),d={class:"col-md-4"},h=Object(n["k"])('<div class="col-md-2" data-v-e453065c><select class="form-select form-select-dark form-select-sm text-white bg-dark" aria-label=".form-select-sm example" data-v-e453065c><option selected data-v-e453065c>All reservations</option><option value="1" data-v-e453065c>Boats</option><option value="2" data-v-e453065c>Cottages</option><option value="3" data-v-e453065c>Adventures</option></select></div>',1),b={style:{"margin-top":"5%"}};function u(e,t,a,o,u,f){var v=Object(n["O"])("Datepicker"),O=Object(n["O"])("ClientReservationCard");return Object(n["F"])(),Object(n["h"])("div",null,[r,Object(n["i"])("div",c,[Object(n["i"])("div",s,[Object(n["i"])("div",i,[l,Object(n["i"])("div",d,[Object(n["m"])(v,{style:{width:"100%","margin-right":"10px",border:"1px solid white","border-radius":"5px"},dark:"",id:"picker",modelValue:e.date,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.date=t}),range:"",placeholder:"Select date",enableTimePicker:!1},null,8,["modelValue"])]),h])])]),Object(n["i"])("div",b,[(Object(n["F"])(!0),Object(n["h"])(n["a"],null,Object(n["M"])(e.nonCancellable,(function(e){return Object(n["F"])(),Object(n["f"])(O,{review:!1,current:!0,key:e.id,reservation:e,onRefresh:f.refresh},null,8,["reservation","onRefresh"])})),128)),(Object(n["F"])(!0),Object(n["h"])(n["a"],null,Object(n["M"])(e.reservations,(function(e){return Object(n["F"])(),Object(n["f"])(O,{review:!0,current:!0,key:e.id,reservation:e,onRefresh:f.refresh},null,8,["reservation","onRefresh"])})),128))])])}var f=a("b85c"),v=(a("a434"),a("504a")),O=a("bc3a"),p=a.n(O),m=a("c1df"),j=a.n(m),w={components:{ClientReservationCard:v["a"]},data:function(){return{numberOfPersons:"",date:"",nonCancellable:[],reservations:[],range:{start:new Date,end:new Date}}},mounted:function(){var e=this;p.a.get("http://localhost:8080/reservation/client/current",{headers:{"Access-Control-Allow-Origin":"http://localhost:8080",Authorization:"Bearer "+localStorage.refreshToken}}).then((function(t){var a=new Date;a.setDate(a.getDate()+3);var n,o=Object(f["a"])(t.data);try{for(o.s();!(n=o.n()).done;){var r=n.value;j()(r.startDate).isBefore(j()(a))?e.nonCancellable.push(r):e.reservations.push(r)}}catch(c){o.e(c)}finally{o.f()}})),this.$toast.show("You can cancel your reservation up to 3 days before it is scheduled.",{duration:5e3})},methods:{refresh:function(e){var t=this.reservations.indexOf(e);t>-1&&this.reservations.splice(t,1)}}},g=(a("a0b4"),a("6b0d")),y=a.n(g);const x=y()(w,[["render",u],["__scopeId","data-v-e453065c"]]);t["default"]=x},"504a":function(e,t,a){"use strict";a("b0c0");var n=a("7a23"),o=function(e){return Object(n["I"])("data-v-b1444598"),e=e(),Object(n["G"])(),e},r={class:"card mb-3 bg-dark mt-3",style:{width:"65%",margin:"auto"}},c={class:"row g-0"},s={class:"col-md-4 shadow-none"},i=["src"],l={class:"col-md-8 shadow-none",name:"main-col"},d={class:"card-body shadow-none"},h={class:"card-text shadow-none",style:{display:"flex"}},b={class:"card-title shadow-none"},u={class:"card-text shadow-none",style:{display:"flex","align-items":"center"}},f={class:"shadow-none",style:{width:"100%"}},v={class:"row shadow-none"},O=o((function(){return Object(n["i"])("p",{class:"card-text text-left shadow-none col-md-4"}," Client: ",-1)})),p={class:"advertiserTitle shadow-none col-md-6",style:{"margin-left":"11px"}},m={class:"row shadow-none"},j=o((function(){return Object(n["i"])("p",{class:"card-text text-left shadow-none col-md-4"}," Start date: ",-1)})),w={class:"card-text text-left shadow-none col-md-8"},g={class:"row shadow-none"},y=o((function(){return Object(n["i"])("p",{class:"card-text text-left shadow-none col-md-4"}," End date: ",-1)})),x={class:"card-text text-left shadow-none col-md-8"},k={class:"row shadow-none"},R=o((function(){return Object(n["i"])("p",{class:"card-text text-left shadow-none col-md-4"},"Price:",-1)})),C={class:"card-text text-left shadow-none col-md-8"},A=o((function(){return Object(n["i"])("i",{class:"fas fa-dollar-sign"},null,-1)})),D={class:"row shadow-none"},M=o((function(){return Object(n["i"])("p",{class:"card-text text-left shadow-none col-md-4"}," Persons: ",-1)})),F={class:"card-text text-left shadow-none col-md-8"},S=o((function(){return Object(n["i"])("p",{class:"card-text text-left shadow-none"}," Additional services: ",-1)})),T={class:"row shadow-none",style:{"margin-left":"1%"}},Y=o((function(){return Object(n["i"])("i",{class:"shadow-none"},null,-1)})),B={class:"manageReservation shadow-none"},P=["disabled"],z={class:"manageReservation shadow-none"},$=["disabled"],I=["disabled"];function _(e,t,o,_,V,E){return Object(n["F"])(),Object(n["h"])("div",null,[Object(n["i"])("div",r,[Object(n["i"])("div",c,[Object(n["i"])("div",s,[Object(n["i"])("img",{style:{width:"100%",height:"225px","object-fit":"cover"},src:a("1771")("./"+o.reservation.imagePath),class:"img-fluid rounded-start shadow-none"},null,8,i)]),Object(n["i"])("div",l,[Object(n["i"])("div",d,[Object(n["i"])("div",h,[Object(n["i"])("h5",b,Object(n["R"])(o.reservation.serviceName),1)]),Object(n["i"])("div",u,[Object(n["i"])("div",f,[Object(n["i"])("div",v,[O,Object(n["i"])("p",p,Object(n["R"])(e.client.email),1)]),Object(n["i"])("div",m,[j,Object(n["i"])("p",w,Object(n["R"])(e.startDate),1)]),Object(n["i"])("div",g,[y,Object(n["i"])("p",x,Object(n["R"])(e.endDate),1)]),Object(n["i"])("div",k,[R,Object(n["i"])("p",C,[Object(n["l"])(Object(n["R"])(e.price)+" ",1),A])]),Object(n["i"])("div",D,[M,Object(n["i"])("p",F,Object(n["R"])(e.persons),1)]),S,Object(n["i"])("div",T,[(Object(n["F"])(!0),Object(n["h"])(n["a"],null,Object(n["M"])(o.reservation.chosenServices,(function(e){return Object(n["F"])(),Object(n["h"])("p",{key:e.id,class:"additionalServices shadow-none"},[Y,Object(n["l"])(" "+Object(n["R"])(e.name),1)])})),128))])]),Object(n["i"])("div",B,[o.current?Object(n["g"])("",!0):(Object(n["F"])(),Object(n["h"])("button",{key:0,disabled:e.hasReview,class:"btn btn-primary shadow-none mb-2",style:{"background-color":"rgb(0 102 102)","border-color":"rgb(0 102 102)"},onClick:t[0]||(t[0]=function(){return E.emitReview&&E.emitReview.apply(E,arguments)}),"data-bs-toggle":"modal","data-bs-target":"#review"}," Review ",8,P))]),Object(n["i"])("div",z,[o.current?Object(n["g"])("",!0):(Object(n["F"])(),Object(n["h"])("button",{key:0,disabled:e.hasComplaint,class:"btn btn-primary shadow-none mb-2",style:{"background-color":"rgb(94 23 30)","border-color":"rgb(94 23 30)"},onClick:t[1]||(t[1]=function(){return E.emitReview&&E.emitReview.apply(E,arguments)}),"data-bs-toggle":"modal","data-bs-target":"#complaint"}," Complaint ",8,$)),1==o.current?(Object(n["F"])(),Object(n["h"])("button",{key:1,class:"btn btn-primary shadow-none",disabled:1!=o.review,onClick:t[2]||(t[2]=function(){return E.cancelReservation&&E.cancelReservation.apply(E,arguments)}),style:{"background-color":"rgb(94 23 30)","border-color":"rgb(94 23 30)"}}," Cancel ",8,I)):Object(n["g"])("",!0)])])])])])])])}var V=a("bc3a"),E=a.n(V),G=a("c1df"),J=a.n(G),U={props:["reservation","review","current"],data:function(){return{client:{},startDate:{},endDate:{},price:0,persons:0,hasComplaint:!1,hasReview:!1}},mounted:function(){var e=this;E.a.get("http://localhost:8080/users/get",{headers:{"Access-Control-Allow-Origin":"http://localhost:8080",Authorization:"Bearer "+localStorage.refreshToken}}).then((function(t){e.client=t.data})),E.a.get("http://localhost:8080/complaint/exists/"+this.reservation.id,{headers:{"Access-Control-Allow-Origin":"http://localhost:8080",Authorization:"Bearer "+localStorage.refreshToken}}).then((function(t){e.hasComplaint=t.data})),E.a.get("http://localhost:8080/review/exists/"+this.reservation.id,{headers:{"Access-Control-Allow-Origin":"http://localhost:8080",Authorization:"Bearer "+localStorage.refreshToken}}).then((function(t){e.hasReview=t.data})),this.startDate=J()(this.reservation.startDate).format("DD MMM YYYY hh:mm a"),this.endDate=J()(this.reservation.endDate).format("DD MMM YYYY hh:mm a"),this.price=this.reservation.price,this.persons=this.reservation.persons},methods:{emitReview:function(){this.$emit("emitReview",this.reservation)},cancelReservation:function(){var e=this;E.a.put("http://localhost:8080/reservation/cancel",this.reservation.id,{headers:{"Access-Control-Allow-Origin":"http://localhost:8080",Authorization:"Bearer "+localStorage.refreshToken}}).then((function(t){t.data?(e.$emit("refresh",e.reservation),e.$toast.show("Reservation successfully cancelled!",{duration:2e3})):e.$toast.show("Unsuccessful cancellation! Try again, later!",{duration:2e3})}))}}},N=(a("c2f4"),a("6b0d")),q=a.n(N);const H=q()(U,[["render",_],["__scopeId","data-v-b1444598"]]);t["a"]=H},a0b4:function(e,t,a){"use strict";a("c103")},a434:function(e,t,a){"use strict";var n=a("23e7"),o=a("da84"),r=a("23cb"),c=a("5926"),s=a("07fa"),i=a("7b0b"),l=a("65f0"),d=a("8418"),h=a("1dde"),b=h("splice"),u=o.TypeError,f=Math.max,v=Math.min,O=9007199254740991,p="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!b},{splice:function(e,t){var a,n,o,h,b,m,j=i(this),w=s(j),g=r(e,w),y=arguments.length;if(0===y?a=n=0:1===y?(a=0,n=w-g):(a=y-2,n=v(f(c(t),0),w-g)),w+a-n>O)throw u(p);for(o=l(j,n),h=0;h<n;h++)b=g+h,b in j&&d(o,h,j[b]);if(o.length=n,a<n){for(h=g;h<w-n;h++)b=h+n,m=h+a,b in j?j[m]=j[b]:delete j[m];for(h=w;h>w-n+a;h--)delete j[h-1]}else if(a>n)for(h=w-n;h>g;h--)b=h+n-1,m=h+a-1,b in j?j[m]=j[b]:delete j[m];for(h=0;h<a;h++)j[h+g]=arguments[h+2];return j.length=w-n+a,o}})},c103:function(e,t,a){},c2f4:function(e,t,a){"use strict";a("0c2a")}}]);
//# sourceMappingURL=chunk-10c7e4bb.15639ad6.js.map